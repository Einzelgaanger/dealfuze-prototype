import{n as u,o as g,p as f,q as D,r as w,s as h,t as a,v as i}from"/build/_shared/chunk-N4TDL3D4.js";import{c}from"/build/_shared/chunk-FDXCYRZQ.js";import{a as H}from"/build/_shared/chunk-XU47T243.js";import{a as E}from"/build/_shared/chunk-KTTW5SKQ.js";import"/build/_shared/chunk-ZCAC6FHZ.js";import{a as N,e as m,i as d,r as x,s as p}from"/build/_shared/chunk-SBX24TZY.js";import{e as t}from"/build/_shared/chunk-ADMCF34Z.js";var F=t(H(),1),V=t(E(),1);x();var L=t(N(),1),e=t(p(),1);function v(){let{signIn:y,setActive:b}=(0,F.useSignIn)(),I=m(),[s,S]=(0,L.useState)(null);return(0,e.jsx)(u,{open:!0,children:(0,e.jsxs)(g,{showClose:!1,children:[(0,e.jsxs)(f,{children:[(0,e.jsx)(w,{children:"Login"}),(0,e.jsx)(h,{children:"Please login to your Deal Fuze account."})]}),(0,e.jsxs)(d,{className:"grid gap-4",onSubmit:async n=>{n.preventDefault();let o=n.currentTarget;if(!o.checkValidity()){o.reportValidity();return}let l=new FormData(o),T=l.get("email"),C=l.get("password");try{let r=await y?.create({identifier:T,password:C});r?.status==="complete"&&(await b?.({session:r.createdSessionId}),I("/"))}catch{S("Invalid credentials")}},noValidate:!0,children:[(0,e.jsxs)("div",{className:"grid gap-2",children:[(0,e.jsx)(i,{htmlFor:"email",children:"Email"}),(0,e.jsx)(a,{required:!0,id:"email",name:"email",type:"email",autoComplete:"username",placeholder:"hello@dealfuze.com"})]}),(0,e.jsxs)("div",{className:"grid gap-2",children:[(0,e.jsx)(i,{htmlFor:"password",children:"Password"}),(0,e.jsx)(a,{required:!0,id:"password",name:"password",type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",autoComplete:"current-password",minLength:8})]}),s&&(0,e.jsx)("p",{className:"text-red-500 text-sm",children:s}),(0,e.jsx)(D,{children:(0,e.jsx)(c,{type:"submit",children:"Login"})})]})]})})}export{v as default};
